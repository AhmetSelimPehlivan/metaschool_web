{"ast":null,"code":"import _regeneratorRuntime from\"D:/metaschool_web/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/metaschool_web/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/metaschool_web/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/createContext(null);var useAuth=function useAuth(){return useContext(AuthContext);};var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isAuthenticated=_useState2[0],setIsAuthenticated=_useState2[1];useEffect(function(){var fetchVerify=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://metaschool.herokuapp.com/verify\",{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(data){if(data.status===200)setIsAuthenticated(true);else setIsAuthenticated(false);});case 2:response=_context.sent;case 3:case\"end\":return _context.stop();}},_callee);}));return function fetchVerify(){return _ref2.apply(this,arguments);};}();fetchVerify();},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isAuthenticated:isAuthenticated,setIsAuthenticated:setIsAuthenticated},children:children});};export{AuthProvider,AuthContext,useAuth};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","isAuthenticated","setIsAuthenticated","fetchVerify","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","fetch","headers","Authorization","concat","localStorage","getItem","then","data","status","sent","stop","apply","arguments","Provider","value"],"sources":["D:/metaschool_web/frontend/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst AuthContext = createContext(null);\r\nconst useAuth = () =>{\r\n  return useContext(AuthContext);\r\n}\r\nconst AuthProvider = ({ children }) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const fetchVerify = async () => {\r\n      const response = await fetch(\"https://metaschool.herokuapp.com/verify\", {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      }).then(data => {\r\n        if(data.status === 200) setIsAuthenticated(true)\r\n        else setIsAuthenticated(false)\r\n      });\r\n    }\r\n    fetchVerify();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ isAuthenticated, setIsAuthenticated }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AuthProvider, AuthContext, useAuth };\r\n"],"mappings":"gWAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,GAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,IAAI,CAAC,CACvC,GAAM,CAAAO,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAQ,CACnB,MAAO,CAAAN,UAAU,CAACK,WAAW,CAAC,CAChC,CAAC,CACD,GAAM,CAAAE,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC9B,IAAAC,SAAA,CAA8CT,QAAQ,CAAC,KAAK,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtDG,eAAe,CAAAF,UAAA,IAAEG,kBAAkB,CAAAH,UAAA,IAE1CT,SAAS,CAAC,UAAM,CACd,GAAM,CAAAa,WAAW,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACK,CAAAC,KAAK,CAAC,yCAAyC,CAAE,CACtEC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACxD,CACF,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,IAAI,CAAI,CACd,GAAGA,IAAI,CAACC,MAAM,GAAK,GAAG,CAAErB,kBAAkB,CAAC,IAAI,CAAC,KAC3C,CAAAA,kBAAkB,CAAC,KAAK,CAAC,CAChC,CAAC,CAAC,QAPIO,QAAQ,CAAAG,QAAA,CAAAY,IAAA,yBAAAZ,QAAA,CAAAa,IAAA,MAAAjB,OAAA,GAQf,kBATK,CAAAL,WAAWA,CAAA,SAAAC,KAAA,CAAAsB,KAAA,MAAAC,SAAA,OAShB,CACDxB,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEX,IAAA,CAACC,WAAW,CAACmC,QAAQ,EACnBC,KAAK,CAAE,CAAE5B,eAAe,CAAfA,eAAe,CAAEC,kBAAkB,CAAlBA,kBAAmB,CAAE,CAAAL,QAAA,CAE9CA,QAAQ,EACY,CAE3B,CAAC,CAED,OAASF,YAAY,CAAEF,WAAW,CAAEC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}