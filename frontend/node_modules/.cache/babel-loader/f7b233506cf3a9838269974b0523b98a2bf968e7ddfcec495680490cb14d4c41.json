{"ast":null,"code":"import _regeneratorRuntime from\"D:/metaschool_web/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/metaschool_web/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/metaschool_web/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import TableComponent from\"../components/Table/TableComponent\";import BoxGraph from\"../components/BoxGraph/BoxGraph\";import LineGraph from\"../components/LineGraph/LineGraph\";// reactstrap components\nimport{Row,Col}from\"reactstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),geoGraph=_useState4[0],setGeoGraph=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),mathGraph=_useState6[0],setMathGraph=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),taskCount=_useState8[0],setTaskCount=_useState8[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:fetch('https://metaschool.herokuapp.com/getTasks').then(function(response){return response.json();}).then(function(data){var taskArray=[];var geoArray=[];var mathArray=[];var taskCount=[0,0,0,0,0];for(var key=1;key<data.tasks.Count;key++){if(data.tasks[key].game_id===1)taskArray.push({id:data.tasks[key].game_id,title:data.tasks[key].game_name,result:data.tasks[key].timer});else if(data.tasks[key].game_id===2){taskArray.push({id:data.tasks[key].game_id,title:data.tasks[key].game_name,result:data.tasks[key].game_result.replace(/1/g,'W').replace(/0/g,'L ')});mathArray.push(data.tasks[key].game_result.split(\"1\").length-1);}else if(data.tasks[key].game_id===3)taskArray.push({id:data.tasks[key].game_id,title:data.tasks[key].game_name,result:data.tasks[key].true_answers+\"/\"+data.tasks[key].total_answers});else if(data.tasks[key].game_id===4)taskArray.push({id:data.tasks[key].game_id,title:data.tasks[key].game_name,result:data.tasks[key].timer});else if(data.tasks[key].game_id===5){taskArray.push({id:data.tasks[key].game_id,title:data.tasks[key].game_name,alt_title:data.tasks[key].climate,result:data.tasks[key].correct_answers+\"/\"+data.tasks[key].total_answers});geoArray.push(parseInt(data.tasks[key].correct_answers)-parseInt(data.tasks[key].total_answers)*0.25);}taskCount[data.tasks[key].game_id-1]+=1;}setTasks(taskArray);setGeoGraph(geoArray);setMathGraph(mathArray);setTaskCount(taskCount);}).catch(function(error){});case 1:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:\"12\",children:/*#__PURE__*/_jsx(LineGraph,{title:\"Play Score\",data:taskCount,labelData:\"Weekly Play Score\",labels:[\"MONDAY\",\"THUESDAY\",\"WEDNESDAY\",\"THURSDAY\",\"FRIDAY\",\"SATURDAY\",\"SUNDAY\"]})})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(LineGraph,{title:\"Geography\",data:geoGraph,labelData:\"Geography Game Score\",labels:Array(geoGraph.length).fill().map(function(_,index){return index+1+\".Game\";})})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(BoxGraph,{title:taskCount.reduce(function(total,num){return total+num;},0)+\" Task\",data:taskCount})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(LineGraph,{title:\"Math\",data:mathGraph,labelData:\"Math Game Correctness\",labels:Array(mathGraph.length).fill().map(function(_,index){return index+1+\".Game\";})})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"6\",md:\"12\",children:/*#__PURE__*/_jsx(TableComponent,{tasks:tasks})})})]})});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","TableComponent","BoxGraph","LineGraph","Row","Col","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_useState","_useState2","_slicedToArray","tasks","setTasks","_useState3","_useState4","geoGraph","setGeoGraph","_useState5","_useState6","mathGraph","setMathGraph","_useState7","_useState8","taskCount","setTaskCount","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","then","response","json","data","taskArray","geoArray","mathArray","key","Count","game_id","push","id","title","game_name","result","timer","game_result","replace","split","length","true_answers","total_answers","alt_title","climate","correct_answers","parseInt","catch","error","stop","children","className","xs","labelData","labels","lg","Array","fill","map","_","index","reduce","total","num","md"],"sources":["D:/metaschool_web/frontend/src/views/Dashboard.js"],"sourcesContent":["import  React, {useEffect, useState} from \"react\";\r\nimport TableComponent from \"../components/Table/TableComponent\";\r\nimport BoxGraph from \"../components/BoxGraph/BoxGraph\";\r\nimport LineGraph from \"../components/LineGraph/LineGraph\";\r\n// reactstrap components\r\nimport {\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nfunction Dashboard() {\r\n  \r\nconst [tasks,setTasks] = useState([])\r\nconst [geoGraph,setGeoGraph] = useState([])\r\nconst [mathGraph,setMathGraph] = useState([])\r\nconst [taskCount,setTaskCount] = useState([])\r\n\r\nuseEffect(() => {\r\n  async function fetchData(){\r\n    fetch('https://metaschool.herokuapp.com/getTasks').then(response => response.json())\r\n    .then(data => {\r\n      \r\n    const taskArray = []\r\n    const geoArray = []\r\n    const mathArray = []\r\n    const taskCount = [0,0,0,0,0]\r\n\r\n      for (let key = 1; key < data.tasks.Count; key++) {\r\n        if(data.tasks[key].game_id === 1)\r\n          taskArray.push({id: data.tasks[key].game_id, title: data.tasks[key].game_name, result: data.tasks[key].timer})\r\n        else if(data.tasks[key].game_id === 2){\r\n          taskArray.push({id: data.tasks[key].game_id, title: data.tasks[key].game_name, result: data.tasks[key].game_result.replace(/1/g, 'W').replace(/0/g, 'L ')})\r\n          mathArray.push(data.tasks[key].game_result.split(\"1\").length - 1)\r\n        }\r\n        else if(data.tasks[key].game_id === 3)\r\n          taskArray.push({id: data.tasks[key].game_id, title: data.tasks[key].game_name, result: (data.tasks[key].true_answers+\"/\"+data.tasks[key].total_answers)})\r\n        else if(data.tasks[key].game_id === 4)\r\n          taskArray.push({id: data.tasks[key].game_id, title: data.tasks[key].game_name, result: data.tasks[key].timer})\r\n        else if(data.tasks[key].game_id === 5){\r\n          taskArray.push({id: data.tasks[key].game_id, title: data.tasks[key].game_name, alt_title: data.tasks[key].climate, result: data.tasks[key].correct_answers+\"/\"+data.tasks[key].total_answers})\r\n          geoArray.push(parseInt(data.tasks[key].correct_answers)-(parseInt(data.tasks[key].total_answers)*(0.25)))\r\n        }\r\n        taskCount[data.tasks[key].game_id-1] +=1\r\n      }\r\n      setTasks(taskArray)\r\n      setGeoGraph(geoArray)\r\n      setMathGraph(mathArray)\r\n      setTaskCount(taskCount)\r\n    })\r\n    .catch(error => {});\r\n  }\r\n  fetchData()\r\n},[]);\r\n  return (\r\n    <>\r\n      <div className=\"content\">\r\n        <Row>\r\n          <Col xs=\"12\">\r\n            <LineGraph \r\n              title=\"Play Score\" \r\n              data={taskCount} \r\n              labelData=\"Weekly Play Score\"\r\n              labels = {[\"MONDAY\", \"THUESDAY\", \"WEDNESDAY\", \"THURSDAY\", \"FRIDAY\", \"SATURDAY\", \"SUNDAY\"]} />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col lg=\"4\">\r\n            <LineGraph \r\n              title=\"Geography\" \r\n              data={geoGraph} \r\n              labelData=\"Geography Game Score\"\r\n              labels={Array(geoGraph.length).fill().map((_, index) => (index + 1)+\".Game\")}/>\r\n          </Col>\r\n          <Col lg=\"4\">\r\n            <BoxGraph title={taskCount.reduce((total, num) => total + num, 0)+\" Task\"} data={taskCount}/>\r\n          </Col>\r\n          <Col lg=\"4\">\r\n            <LineGraph \r\n              title=\"Math\" \r\n              data={mathGraph} \r\n              labelData=\"Math Game Correctness\"\r\n              labels={Array(mathGraph.length).fill().map((_, index) => (index + 1)+\".Game\")}/>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col lg=\"6\" md=\"12\">\r\n            <TableComponent tasks={tasks}/>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"gWAAA,MAAQ,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACjD,MAAO,CAAAC,cAAc,KAAM,oCAAoC,CAC/D,MAAO,CAAAC,QAAQ,KAAM,iCAAiC,CACtD,MAAO,CAAAC,SAAS,KAAM,mCAAmC,CACzD;AACA,OACEC,GAAG,CACHC,GAAG,KACE,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBACpB,QAAS,CAAAC,SAASA,CAAA,CAAG,CAErB,IAAAC,SAAA,CAAyBb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA9BG,KAAK,CAAAF,UAAA,IAACG,QAAQ,CAAAH,UAAA,IACrB,IAAAI,UAAA,CAA+BlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAApCE,QAAQ,CAAAD,UAAA,IAACE,WAAW,CAAAF,UAAA,IAC3B,IAAAG,UAAA,CAAiCtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtCE,SAAS,CAAAD,UAAA,IAACE,YAAY,CAAAF,UAAA,IAC7B,IAAAG,UAAA,CAAiC1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAtCE,SAAS,CAAAD,UAAA,IAACE,YAAY,CAAAF,UAAA,IAE7B5B,SAAS,CAAC,UAAM,SACC,CAAA+B,SAASA,CAAA,SAAAC,UAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,WAAA,EAAAA,UAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAxB,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACEC,KAAK,CAAC,2CAA2C,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACnFF,IAAI,CAAC,SAAAG,IAAI,CAAI,CAEd,GAAM,CAAAC,SAAS,CAAG,EAAE,CACpB,GAAM,CAAAC,QAAQ,CAAG,EAAE,CACnB,GAAM,CAAAC,SAAS,CAAG,EAAE,CACpB,GAAM,CAAAtB,SAAS,CAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAE3B,IAAK,GAAI,CAAAuB,GAAG,CAAG,CAAC,CAAEA,GAAG,CAAGJ,IAAI,CAAC/B,KAAK,CAACoC,KAAK,CAAED,GAAG,EAAE,CAAE,CAC/C,GAAGJ,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,GAAK,CAAC,CAC9BL,SAAS,CAACM,IAAI,CAAC,CAACC,EAAE,CAAER,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,CAAEG,KAAK,CAAET,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACM,SAAS,CAAEC,MAAM,CAAEX,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACQ,KAAK,CAAC,CAAC,KAC3G,IAAGZ,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,GAAK,CAAC,CAAC,CACpCL,SAAS,CAACM,IAAI,CAAC,CAACC,EAAE,CAAER,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,CAAEG,KAAK,CAAET,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACM,SAAS,CAAEC,MAAM,CAAEX,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACS,WAAW,CAACC,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,CAAE,IAAI,CAAC,CAAC,CAAC,CAC3JX,SAAS,CAACI,IAAI,CAACP,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACS,WAAW,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAAG,CAAC,CAAC,CACnE,CAAC,IACI,IAAGhB,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,GAAK,CAAC,CACnCL,SAAS,CAACM,IAAI,CAAC,CAACC,EAAE,CAAER,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,CAAEG,KAAK,CAAET,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACM,SAAS,CAAEC,MAAM,CAAGX,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACa,YAAY,CAAC,GAAG,CAACjB,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACc,aAAc,CAAC,CAAC,KACtJ,IAAGlB,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,GAAK,CAAC,CACnCL,SAAS,CAACM,IAAI,CAAC,CAACC,EAAE,CAAER,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,CAAEG,KAAK,CAAET,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACM,SAAS,CAAEC,MAAM,CAAEX,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACQ,KAAK,CAAC,CAAC,KAC3G,IAAGZ,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,GAAK,CAAC,CAAC,CACpCL,SAAS,CAACM,IAAI,CAAC,CAACC,EAAE,CAAER,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,CAAEG,KAAK,CAAET,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACM,SAAS,CAAES,SAAS,CAAEnB,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACgB,OAAO,CAAET,MAAM,CAAEX,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACiB,eAAe,CAAC,GAAG,CAACrB,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACc,aAAa,CAAC,CAAC,CAC9LhB,QAAQ,CAACK,IAAI,CAACe,QAAQ,CAACtB,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACiB,eAAe,CAAC,CAAEC,QAAQ,CAACtB,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACc,aAAa,CAAC,CAAE,IAAM,CAAC,CAC3G,CACArC,SAAS,CAACmB,IAAI,CAAC/B,KAAK,CAACmC,GAAG,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,EAAG,CAAC,CAC1C,CACApC,QAAQ,CAAC+B,SAAS,CAAC,CACnB3B,WAAW,CAAC4B,QAAQ,CAAC,CACrBxB,YAAY,CAACyB,SAAS,CAAC,CACvBrB,YAAY,CAACD,SAAS,CAAC,CACzB,CAAC,CAAC,CACD0C,KAAK,CAAC,SAAAC,KAAK,CAAI,CAAC,CAAC,CAAC,CAAC,wBAAA/B,QAAA,CAAAgC,IAAA,MAAAnC,OAAA,GACrB,UAAAN,UAAA,CAAAC,KAAA,MAAAC,SAAA,GACDH,SAAS,EAAE,CACb,CAAC,CAAC,EAAE,CAAC,CACH,mBACEvB,IAAA,CAAAI,SAAA,EAAA8D,QAAA,cACEhE,KAAA,QAAKiE,SAAS,CAAC,SAAS,CAAAD,QAAA,eACtBlE,IAAA,CAACH,GAAG,EAAAqE,QAAA,cACFlE,IAAA,CAACF,GAAG,EAACsE,EAAE,CAAC,IAAI,CAAAF,QAAA,cACVlE,IAAA,CAACJ,SAAS,EACRqD,KAAK,CAAC,YAAY,CAClBT,IAAI,CAAEnB,SAAU,CAChBgD,SAAS,CAAC,mBAAmB,CAC7BC,MAAM,CAAI,CAAC,QAAQ,CAAE,UAAU,CAAE,WAAW,CAAE,UAAU,CAAE,QAAQ,CAAE,UAAU,CAAE,QAAQ,CAAE,EAAG,EAC3F,EACF,cACNpE,KAAA,CAACL,GAAG,EAAAqE,QAAA,eACFlE,IAAA,CAACF,GAAG,EAACyE,EAAE,CAAC,GAAG,CAAAL,QAAA,cACTlE,IAAA,CAACJ,SAAS,EACRqD,KAAK,CAAC,WAAW,CACjBT,IAAI,CAAE3B,QAAS,CACfwD,SAAS,CAAC,sBAAsB,CAChCC,MAAM,CAAEE,KAAK,CAAC3D,QAAQ,CAAC2C,MAAM,CAAC,CAACiB,IAAI,EAAE,CAACC,GAAG,CAAC,SAACC,CAAC,CAAEC,KAAK,QAAM,CAAAA,KAAK,CAAG,CAAC,CAAE,OAAO,GAAE,EAAE,EAC7E,cACN5E,IAAA,CAACF,GAAG,EAACyE,EAAE,CAAC,GAAG,CAAAL,QAAA,cACTlE,IAAA,CAACL,QAAQ,EAACsD,KAAK,CAAE5B,SAAS,CAACwD,MAAM,CAAC,SAACC,KAAK,CAAEC,GAAG,QAAK,CAAAD,KAAK,CAAGC,GAAG,GAAE,CAAC,CAAC,CAAC,OAAQ,CAACvC,IAAI,CAAEnB,SAAU,EAAE,EACzF,cACNrB,IAAA,CAACF,GAAG,EAACyE,EAAE,CAAC,GAAG,CAAAL,QAAA,cACTlE,IAAA,CAACJ,SAAS,EACRqD,KAAK,CAAC,MAAM,CACZT,IAAI,CAAEvB,SAAU,CAChBoD,SAAS,CAAC,uBAAuB,CACjCC,MAAM,CAAEE,KAAK,CAACvD,SAAS,CAACuC,MAAM,CAAC,CAACiB,IAAI,EAAE,CAACC,GAAG,CAAC,SAACC,CAAC,CAAEC,KAAK,QAAM,CAAAA,KAAK,CAAG,CAAC,CAAE,OAAO,GAAE,EAAE,EAC9E,GACF,cACN5E,IAAA,CAACH,GAAG,EAAAqE,QAAA,cACFlE,IAAA,CAACF,GAAG,EAACyE,EAAE,CAAC,GAAG,CAACS,EAAE,CAAC,IAAI,CAAAd,QAAA,cACjBlE,IAAA,CAACN,cAAc,EAACe,KAAK,CAAEA,KAAM,EAAE,EAC3B,EACF,GACF,EACL,CAEP,CAEA,cAAe,CAAAJ,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}